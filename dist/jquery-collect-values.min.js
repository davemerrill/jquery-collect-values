// Copyright (c) 2012 Dave Merrill, https://github.com/davemerrill/jquery-collect-values, MIT license
(function(d){d.fn.collectValues=function(i){var e=d.extend({},d.fn.collectValues.defaultOptions,i),c=d.extend({},e.defaults),n=e.nameStripRegex?RegExp(i.nameStripRegex,"gi"):null,s=e.skip.toLowerCase().split(","),t=e.multiCheckboxes.toLowerCase().split(","),j=e.valueCheckboxes.toLowerCase().split(","),u=e.noTrimFields.toLowerCase().split(","),p=e.intFields.toLowerCase().split(","),v=0<j.length&&"*"===j[0],w=["INPUT","SELECT","TEXTAREA"],g,q,k,l,r,m,a,f,h;this.each(function(){g=d(this);q=0<=w.indexOf(g.get(0).nodeName)? g:g.find(e.selector);q.each(function(i,b){if("radio"===b.type&&!b.name)return!0;if(a=(r="checkbox"===b.type||"radio"===b.type)?b.name||b.id:b.id||b.name){a=n?a.replace(n,""):a;a=e.nameAddPrefix+a.substr(0,1).toLowerCase()+a.substr(1);f=a.toLowerCase();if(!(0<=s.indexOf(f)))if(r){if(void 0===c[a]){m=0<=t.indexOf(f);if(b.name&&(m||"radio"===b.type))k=g.find('input[name="'+b.name+'"]');"radio"===b.type?(k.each(function(b,d){if(d.checked)return c[a]=d.value,!1}),c[a]=void 0===c[a]?"":c[a]):m?(h=[],k.each(function(a, b){b.checked&&(h[h.length]=0<=p.indexOf(f)?parseInt(b.value,10):b.value)}),c[a]=h):c[a]=v||0<=j.indexOf(f)?b.checked?b.value:"":b.checked?1:0}}else 0<=u.indexOf(f)?c[a]=d(b).val():(l=d(b),c[a]=l.val().trim(),l.val(c[a]));void 0!==c[a]&&("string"===typeof c[a]&&0<=p.indexOf(f))&&(c[a]=parseInt(c[a],10))}})});return c}})(jQuery); $.fn.collectValues.defaultOptions={selector:":input:not(:button,:file)",defaults:{},skip:"",multiCheckboxes:"",valueCheckboxes:"",nameStripRegex:"",nameAddPrefix:"",noTrimFields:"",intFields:""};$.fn.collectValues.setDefaultOptions=function(d){$.fn.collectValues.defaultOptions=$.extend($.fn.collectValues.defaultOptions,d)};$.fn.collectValues.version="0.1.1";